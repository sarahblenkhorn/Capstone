@page "/"
@page "/login"
@inject NavigationManager NavigationManager
@rendermode InteractiveServer

<style>
    .login-container {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
    }

    .login-box {
        padding: 2rem;
        border: 1px solid #ccc;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        width: 100%;
        max-width: 400px;
        background-color: white;
    }
</style>

<div class="login-container">
    <div class="login-box">
        <h3 class="text-center mb-4">Login</h3>

        <div class="mb-3">
            <label>Username:</label>
            <input @bind="username" class="form-control" />
        </div>

        <div class="mb-3">
            <label>Password:</label>
            <input type="password" @bind="password" class="form-control" />
        </div>

        <button type="button" class="btn btn-primary w-100" @onclick="HandleLogin">Login</button>

        @if (!string.IsNullOrEmpty(errorMessage))
        {
            <div class="mt-3 text-danger text-center">@errorMessage</div>
        }
    </div>
</div>

@code {
    private string username = "";
    private string password = "";
    private string? errorMessage;

    private void HandleLogin()
    {
        if (username == "user" && password == "userpassword")
        {
            NavigationManager.NavigateTo("/user");  
        }
        else if (username == "admin" && password == "adminpassword")
        {
            NavigationManager.NavigateTo("/admin");
        }
        else if (username == "manager" && password == "managerpassword")
        {
            NavigationManager.NavigateTo("/manager");
        }
        else
        {
            errorMessage = "Invalid username or password.";
        }
    }

}
